DEF _SCRN0 EQU $9800
DEF WindowStart EQU $9A00

SECTION "Tile Map Functions", ROMX
;   in:
;       A = ID do Tile Map
;   out:
;       DE = Endereço dos dados do TileMap
;       BC = Tamanho em bytes do TileMap
;       HL = Endereço da VRAM pertencente ao TileMap
GetTileMapDataFromID::
    sla a                       ;   ────┐ 4 Bit Shift Left Aritmetic, equivalente a multiplicar o acumulador por 16
    sla a                       ;       ├ 
    sla a                       ;       │ Offset da tabela de tilemap com base no ID
    sla a                       ;   ────┘ ID 0 = Offset 0, ID 1 = Offset 16, etc
    ld e, a                     ;   ┐ move o offset pro reg DE
    ld d, 0                     ;   ┘
    ld hl, TileMaps             ;   move o ponteiro da tabela de tilemap pro reg HL
    add hl, de                  ;   adiciona o offset no ponteiro
    ld a, [hl+]                 ;   ┐
    ld e, a                     ;   │ copia o ponteiro do tilemap pro reg DE
    ld a, [hl+]                 ;   │
    ld d, a                     ;   ┘
    inc hl                      ;   ┐ incrementa o ponteiro do tilemap 2 vezes
    inc hl                      ;   ┘
    ld a, [hl+]                 ;   ┐
    ld c, a                     ;   │ copia o tamanho em bytes do tilemap no reg BC
    ld a, [hl+]                 ;   │
    ld b, a                     ;   ┘
    ld hl, _SCRN0               ;   copia o endereço da VRAM no reg HL
    ret                         ;   retorna pra função anterior

;   in:
;       A = ID do Tile Map
;   out:
;       DE = Endereço dos dados de atributos do TileMap
;       BC = Tamanho em bytes dos atributos do TileMap
;       HL = Endereço da VRAM pertencente aos atributos do TileMap
GetTileMapAttributeFromID::
    sla a                       ;   ────┐ 4 Bit Shift Left Aritmetic, equivalente a multiplicar o acumulador por 16
    sla a                       ;       ├ 
    sla a                       ;       │ Offset da tabela de tilemap com base no ID
    sla a                       ;   ────┘ ID 0 = Offset 0, ID 1 = Offset 16, etc
    add a, 2                    ;   adiciona 2 no acumulador
    ld e, a                     ;   ┐ move o offset pro reg DE
    ld d, 0                     ;   ┘
    ld hl, TileMaps             ;   move o ponteiro da tabela de tilemap pro reg HL
    add hl, de                  ;   adiciona o offset no ponteiro
    ld a, [hl+]                 ;   ┐
    ld e, a                     ;   │ copia o ponteiro dos atributos do tilemap pro reg DE
    ld a, [hl+]                 ;   │
    ld d, a                     ;   ┘
    ld a, [hl+]                 ;   ┐
    ld c, a                     ;   │ copia o tamanho em bytes do tilemap no reg BC
    ld a, [hl+]                 ;   │
    ld b, a                     ;   ┘
    ld hl, _SCRN0               ;   copia o endereço da VRAM no reg HL
    ret                         ;   retorna pra função anterior

;   in:
;       A = ID do Tile Map
;   out:
;       A = ID do Tile Set
GetTileSetIDFromTileMapID::   
    sla a                       ;   ────┐ 4 Bit Shift Left Aritmetic, equivalente a multiplicar o acumulador por 16
    sla a                       ;       ├ 
    sla a                       ;       │ Offset da tabela de tilemap com base no ID
    sla a                       ;   ────┘ ID 0 = Offset 0, ID 1 = Offset 16, etc
    add a, 6                    ;   adiciona 2 no acumulador
    ld e, a                     ;   ┐ move o offset pro reg DE
    ld d, 0                     ;   ┘
    ld hl, TileMaps             ;   move o ponteiro da tabela de tilemap pro reg HL
    add hl, de                  ;   adiciona o offset no ponteiro da tabela de tilemap
    ld a, [hl]                  ;   move o byte apontado pelo registrador HL pro acumulador
    ret                         ;   retorna pra função anterior

; Funções para retornar a localização da 'window' que fica na parte de baixo da tela
GetWindowData::
    ld de, Window_Tiles
    ld bc, Window_BytesLength
    ld hl, WindowStart
    ret
GetWindowAttributes::
    ld de, Window_Attributes
    ld bc, Window_BytesLength
    ld hl, WindowStart
    ret

;   in:
;       A = ID do Tile Map
;       DE = Offset pro array de colisão de acordo com a posição do jogador
;   out:
;       A = Byte/Data em uma posição específica do 'array' de colisão
GetColisionData::
    sla a                       ;   ────┐ 4 Bit Shift Left Aritmetic, equivalente a multiplicar o acumulador por 16
    sla a                       ;       ├              
    sla a                       ;       │ Offset da tabela de tilemap com base no ID
    sla a                       ;   ────┘ ID 0 = Offset 0, ID 1 = Offset 16, etc
    add a, 7                    ;   Offset pro ponteiro com a tabela de colisao
    ld c, a                     ;   ┐ move o offset pro reg BC
    ld b, 0                     ;   ┘
    ld hl, TileMaps             ;   move o ponteiro da tabela de tilemap pro reg HL
    add hl, bc                  ;   adiciona o offset no ponteiro
    ld a, [hl+]                 ;   ┐
    ld c, a                     ;   │ move o ponteiro da tabela de colisao pro reg BC
    ld a, [hl]                  ;   │
    ld b, a                     ;   ┘
    ld h, a                     ;   ┐
    ld a, c                     ;   │ copia o ponteiro da tabela de colisao pro reg HL   
    ld l, a                     ;   ┘      
    add hl, de                  ;   incrementa o ponteiro com o offset no reg DE
    ld a, [hl]                  ;   copia o byte/data de colisao pro acumulador
    ret                         ;   retorna pra função anterior

;   in:
;       A = ID do Tile Map
;       D = Posição X no Mapa
;       E = Posição Y no Mapa
;   out:
;       A = ID do Tile Map a ser carregado OU 255 em caso de warp nao encontrado
;       D = Posição X no Mapa a ser carregado
;       E = Posição Y no Mapa a ser carregado
GetMapWarpData::
    sla a                       ;   ┐ 4 Bit Shift Left Aritmetic, equivalente a multiplicar o acumulador por 16
    sla a                       ;   │ 
    sla a                       ;   ├ Offset da tabela de tilemap com base no ID
    sla a                       ;   ┘ ID 0 = Offset 0, ID 1 = Offset 16, etc
    add a, 9                    ;   Offset pro ponteiro com a tabela de warps
    ld c, a                     ;   ┐ move o offset pro reg BC
    ld b, 0                     ;   ┘
    ld hl, TileMaps             ;   move o ponteiro da tabela de tilemap pro reg HL
    add hl, bc                  ;   adiciona o offset no ponteiro
    ld a, [hl+]                 ;   ┐
    ld c, a                     ;   │ move o ponteiro do warp data pro reg BC
    ld a, [hl]                  ;   │
    ld b, a                     ;   ┘
    ld h, a                     ;   ┐
    ld a, c                     ;   │ copia o ponteiro do warp data pro reg HL
    ld l, a                     ;   ┘
;       D = Posição X no Mapa a ser carregado
;       E = Posição Y no Mapa a ser carregado
;       BC = Posição do primeiro Warp
;       Verificando PosX
.verificarPosX:
    ld a, [hl]                  ;   move a PosX da tabela de warps pro acumulador
    cp 255                      ;   compara se esta no final da warp table
    jp z, .failed               ;   pula pra função .failed se sim
    cp d                        ;   compara a PosX do acumulador com o recebido
    jp z, .prepararPosY         ;   se existir, pula pra checar a PosY
    ld b, 0                     ;   
    ld c, 5                     ;   
    add hl, bc                  ;   
    jp .verificarPosX           ;   pula de volta pro começo da função
.prepararPosY:
    inc hl                      ;   incrementa o ponteiro pra posição Y
.verificarPosY:
    ld a, [hl]                  ;   move a PosY da tabela de warps pro acumulador
    cp 255                      ;   compara se esta no final da warp table
    jp z, .failed               ;   pula pra função .failed se sim
    cp e                        ;   compara a PosY do acumulador com o recebido
    jp z, .prepararRetorno      ;   se existir, pula pra gerar o retorno
    ld b, 0                     ;   ┐
    ld c, 4                     ;   │
    add hl, bc                  ;   
    jp .verificarPosX           ;   pula de volta pra verificar um novo warp data
.prepararRetorno:
    inc hl                      ;   incrementa o ponteiro 
    ld a, [hl+]                 ;   ┐
    ld d, a                     ;   │ copia a nova posição da sprite
    ld a, [hl+]                 ;   │
    ld e, a                     ;   ┘
    ld a, [hl]                  ;   copia o id do mapa a ser carregado
    jp .end                     ;   pula pra função .end
.failed:
    ld a, 255                   ;   move o valor pro acumulador
.end:
    ret                         ;   retorna pra função anterior

SECTION "Tile Map Data", ROMX
TileMaps:                       ; 16 bytes per entry
    ; ID 0
    dw Town_01_Tiles                    ; 2 bytes   -   data do tilemap
    dw Town_01_Attributes               ; 2 bytes   -   atributos do tilemap
    dw Town_01_BytesLength              ; 2 bytes   -   tamanho em bytes do tilemap
    db Town_01_TileSetId                ; 1 byte    -   id do tileset usado pelo tilemap
    dw Town_01_Colision                 ; 2 bytes   -   colisao do tilemap
    dw Town_01_Warps                    ; 2 bytes   -   tabela de warps do mapa
    dw                                  ; 2 bytes   -   zeros
    db                                  ; 1 byte    -   zeros   ────┐ Possível uso futuro
    dw                                  ; 2 bytes   -   zeros   ────┘
    ; ID 1
    dw Interior_01_Tiles                ; 2 bytes   -   data do tilemap
    dw Interior_01_Attributes           ; 2 bytes   -   atributos do tilemap
    dw Interior_01_BytesLength          ; 2 bytes   -   tamanho em bytes do tilemap
    db Interior_01_TileSetId            ; 1 byte    -   id do tileset usado pelo tilemap
    dw Interior_01_Colision             ; 2 bytes   -   colisao do tilemap
    dw Interior_01_Warps                ; 2 bytes   -   tabela de warps do mapa
    dw                                  ; 2 bytes   -   zeros
    db                                  ; 1 byte    -   zeros   ────┐ Possível uso futuro
    dw                                  ; 2 bytes   -   zeros   ────┘
    ; ID 2
    dw Interior_02_Tiles                
    dw Interior_02_Attributes           
    dw Interior_02_BytesLength          
    db Interior_02_TileSetId            
    dw Interior_02_Colision             
    dw Interior_02_Warps                
    dw                                  
    db                                  
    dw          
    ;id 3
    dw Exterior_02_Tiles      
    dw Exterior_02_Attributes 
    dw Exterior_02_BytesLength
    db Exterior_02_TileSetId  
    dw Exterior_02_Colision   
    dw Exterior_02_Warps      
    dw                    
    db                    
    dw                                            

Window_Tiles:
    DB $59,$59,$59,$59,$59,$59,$59,$59,$59,$59
    DB $59,$59,$59,$59,$59,$59,$59,$59,$59,$59
    DB $71,$74,$74,$74,$72,$74,$74,$74,$5C,$74
    DB $66,$74,$6D,$74,$59,$59,$59,$59,$59,$59                
DEF Window_BytesLength EQU 40
Window_Attributes:
    DB $07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    DB $07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    DB $07,$07,$07,$07,$07,$07,$07,$07,$07,$07
    DB $07,$07,$07,$07,$07,$07,$07,$07,$07,$07

Town_01_Tiles:
    DB $14,$17,$14,$17,$14,$17,$14,$17,$14,$17
    DB $14,$17,$14,$17,$14,$17,$14,$17,$14,$17
    DB $15,$18,$16,$19,$16,$19,$16,$19,$16,$19
    DB $16,$19,$16,$19,$16,$19,$16,$19,$15,$18
    DB $15,$18,$0B,$11,$11,$11,$11,$0E,$02,$02
    DB $0B,$11,$11,$11,$11,$11,$11,$0E,$15,$18
    DB $16,$19,$0C,$12,$12,$12,$12,$0F,$02,$02
    DB $0C,$12,$12,$12,$12,$12,$12,$0F,$16,$19
    DB $14,$17,$0D,$13,$13,$13,$13,$10,$02,$02
    DB $0D,$13,$13,$13,$13,$13,$13,$10,$14,$17
    DB $15,$18,$05,$09,$03,$03,$09,$07,$02,$02
    DB $05,$09,$03,$03,$09,$09,$09,$07,$15,$18
    DB $16,$19,$06,$0A,$04,$04,$0A,$08,$02,$02
    DB $06,$0A,$04,$04,$0A,$0A,$0A,$08,$16,$19
    DB $14,$17,$02,$22,$27,$27,$27,$27,$27,$24
    DB $02,$02,$02,$02,$02,$1E,$02,$02,$14,$17
    DB $16,$19,$02,$29,$01,$01,$01,$01,$01,$1B
    DB $24,$02,$02,$02,$20,$01,$1F,$02,$16,$19
    DB $02,$02,$22,$1D,$01,$01,$01,$01,$01,$01
    DB $1B,$27,$27,$24,$02,$21,$02,$02,$02,$02
    DB $02,$02,$23,$26,$1C,$01,$01,$01,$01,$01
    DB $01,$01,$01,$28,$02,$2A,$2C,$02,$02,$02
    DB $02,$02,$02,$02,$23,$1C,$01,$01,$01,$01
    DB $01,$1A,$26,$25,$02,$01,$01,$02,$02,$02
    DB $14,$17,$02,$02,$02,$23,$26,$26,$26,$26
    DB $26,$25,$02,$02,$02,$2B,$2D,$02,$14,$17
    DB $15,$18,$02,$02,$02,$02,$02,$02,$02,$02
    DB $02,$02,$02,$02,$02,$02,$02,$02,$15,$18
    DB $15,$18,$14,$17,$14,$17,$14,$17,$02,$02
    DB $02,$02,$14,$17,$14,$17,$14,$17,$15,$18
    DB $16,$19,$16,$19,$16,$19,$16,$19,$02,$02
    DB $02,$02,$16,$19,$16,$19,$16,$19,$16,$19
Town_01_Attributes:
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$04,$04,$04,$04,$04,$04,$00,$00
    DB $04,$04,$04,$04,$04,$04,$04,$04,$03,$03
    DB $03,$03,$04,$04,$04,$04,$04,$04,$00,$00
    DB $04,$04,$04,$04,$04,$04,$04,$04,$03,$03
    DB $03,$03,$04,$04,$04,$04,$04,$04,$00,$00
    DB $04,$04,$04,$04,$04,$04,$04,$04,$03,$03
    DB $03,$03,$01,$01,$01,$21,$01,$01,$00,$00
    DB $01,$01,$01,$21,$01,$01,$01,$01,$03,$03
    DB $03,$03,$01,$01,$01,$21,$01,$01,$00,$00
    DB $01,$01,$01,$21,$01,$01,$01,$01,$03,$03
    DB $03,$03,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$03,$03
    DB $03,$03,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$03,$03
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $03,$03,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$03,$03
    DB $03,$03,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
DEF Town_01_BytesLength EQU 320
DEF Town_01_TileSetId EQU 0
Town_01_Colision:
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$01,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$01,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$01,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$02,$00,$00,$00,$01,$00
    DB $00,$00,$02,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$01,$00,$00,$00,$01,$00
    DB $00,$00,$01,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$00,$00,$00
    DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$00,$00,$00
    DB $02,$01,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$01,$02,$00
    DB $02,$01,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$01,$02,$00
    DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$00,$00,$00
    DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$01,$01
    DB $01,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$02,$02
    DB $02,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
Town_01_Warps:
    ;  MapPosX, MapPosY, To Map Pos X, To Map Pos Y, To Map ID,
    DB      32,      40,           72,          112,         1,
    DB      96,      40,           40,          112,         2,
    ;DB       0,      72,           72,          112,         1,
    ;DB       0,      80,           40,          112,         2,
    DB     144,      72,            0,           72,         3,
    DB     144,      80,            0,           80,         3,
    ;DB      64,     112,           72,          112,         1,
    ;DB      72,     112,           40,          112,         2,
    ;DB      80,     112,           40,          112,         2,
    DB     255,     255

Interior_01_Tiles:
    DB $02,$02,$04,$05,$02,$02,$02,$02,$22,$24
    DB $1E,$1F,$04,$05,$04,$05,$02,$02,$02,$02
    DB $02,$02,$06,$07,$2A,$2B,$26,$28,$23,$25
    DB $20,$21,$06,$07,$06,$09,$02,$02,$02,$02
    DB $01,$01,$08,$09,$2C,$2D,$27,$29,$01,$01
    DB $01,$01,$06,$07,$08,$09,$01,$01,$0C,$0D
    DB $01,$01,$0A,$0B,$10,$11,$10,$11,$01,$01
    DB $01,$01,$0A,$0B,$0A,$0B,$01,$01,$14,$15
    DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$01,$0E,$0F
    DB $01,$01,$01,$01,$01,$01,$01,$01,$2E,$30
    DB $2E,$30,$01,$01,$01,$01,$01,$01,$10,$11
    DB $01,$01,$01,$01,$01,$01,$01,$01,$2F,$31
    DB $2F,$31,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$2E,$30,$0C,$13
    DB $13,$0D,$2E,$30,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$2F,$31,$14,$03
    DB $03,$15,$2F,$31,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$2E,$30,$0E,$03
    DB $03,$0F,$2E,$30,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$2F,$31,$10,$12
    DB $12,$11,$2F,$31,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$01,$2E,$30
    DB $2E,$30,$01,$01,$01,$01,$01,$01,$01,$01
    DB $16,$17,$01,$01,$01,$01,$01,$01,$2F,$31
    DB $2F,$31,$01,$01,$01,$01,$01,$01,$16,$17
    DB $18,$19,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$01,$18,$19
    DB $1A,$1B,$01,$01,$01,$01,$01,$01,$32,$32
    DB $32,$32,$01,$01,$01,$01,$01,$01,$1A,$1B
    DB $1C,$1D,$01,$01,$01,$01,$01,$01,$33,$33
    DB $33,$33,$01,$01,$01,$01,$01,$01,$1C,$1D
Interior_01_Attributes:
    DB $02,$02,$00,$00,$02,$02,$02,$02,$02,$02
    DB $02,$02,$00,$00,$00,$00,$02,$02,$02,$02
    DB $02,$02,$00,$00,$02,$02,$02,$02,$02,$02
    DB $02,$02,$00,$00,$00,$00,$02,$02,$02,$02
    DB $03,$03,$00,$00,$04,$04,$02,$02,$03,$03
    DB $03,$03,$00,$00,$00,$00,$03,$03,$00,$00
    DB $03,$03,$00,$00,$00,$00,$00,$00,$03,$03
    DB $03,$03,$00,$00,$00,$00,$03,$03,$00,$00
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $01,$01,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$01,$01
    DB $01,$01,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$01,$01
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
DEF Interior_01_BytesLength EQU 320
DEF Interior_01_TileSetId EQU 1
Interior_01_Colision:
	DB 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	DB 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	DB 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0
	DB 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0
	DB 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
	DB 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
	DB 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0
	DB 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0
	DB 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0
	DB 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0
	DB 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0
	DB 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
	DB 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
	DB 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
	DB 0, 0, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
	DB 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
Interior_01_Warps:
    ;  MapPosX, MapPosY, To Map Pos X, To Map Pos Y, To Map ID,
    DB      72,     112,           32,           56,         0,
    DB     255,     255

Interior_02_Tiles:
    DB $04,$05,$02,$02,$22,$24,$1E,$1F,$02,$02
    DB $02,$02,$1E,$1F,$22,$24,$04,$05,$04,$05
    DB $06,$07,$2A,$2B,$23,$25,$20,$21,$02,$26
    DB $28,$02,$20,$21,$23,$25,$06,$07,$06,$09
    DB $08,$09,$2C,$2D,$01,$01,$01,$01,$01,$27
    DB $29,$01,$01,$01,$01,$01,$06,$07,$08,$09
    DB $0A,$0B,$10,$11,$01,$01,$01,$01,$01,$10
    DB $11,$01,$01,$01,$01,$01,$0A,$0B,$0A,$0B
    DB $2E,$30,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$01,$2E,$30
    DB $2F,$31,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$01,$2F,$31
    DB $0C,$0D,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$01,$0C,$0D
    DB $14,$15,$01,$01,$01,$01,$01,$01,$0C,$13
    DB $13,$0D,$01,$01,$01,$01,$01,$01,$14,$15
    DB $0E,$0F,$01,$01,$01,$01,$01,$01,$14,$03
    DB $03,$15,$01,$01,$01,$01,$01,$01,$0E,$0F
    DB $10,$11,$01,$01,$01,$01,$2E,$30,$0E,$03
    DB $03,$0F,$2E,$30,$01,$01,$01,$01,$10,$11
    DB $2E,$30,$01,$01,$01,$01,$2F,$31,$10,$12
    DB $12,$11,$2F,$31,$01,$01,$01,$01,$2E,$30
    DB $2F,$31,$01,$01,$01,$01,$01,$01,$2E,$30
    DB $2E,$30,$01,$01,$01,$01,$01,$01,$2F,$31
    DB $16,$17,$01,$01,$01,$01,$01,$01,$2F,$31
    DB $2F,$31,$01,$01,$01,$01,$01,$01,$16,$17
    DB $18,$19,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$01,$18,$19
    DB $1A,$1B,$01,$01,$32,$32,$32,$32,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$01,$1A,$1B
    DB $1C,$1D,$01,$01,$33,$33,$33,$33,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$01,$1C,$1D
Interior_02_Attributes:
    DB $00,$00,$02,$02,$02,$02,$02,$02,$02,$02
    DB $02,$02,$02,$02,$02,$02,$00,$00,$00,$00
    DB $00,$00,$02,$02,$02,$02,$02,$02,$02,$02
    DB $02,$02,$02,$02,$02,$02,$00,$00,$00,$00
    DB $00,$00,$04,$04,$03,$03,$03,$03,$03,$02
    DB $02,$03,$03,$03,$03,$03,$00,$00,$00,$00
    DB $00,$00,$00,$00,$03,$03,$03,$03,$03,$00
    DB $00,$03,$03,$03,$03,$03,$00,$00,$00,$00
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$00,$00
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $01,$01,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$01,$01
    DB $01,$01,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$01,$01
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
    DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$00,$00
DEF Interior_02_BytesLength EQU 320
DEF Interior_02_TileSetId EQU 1
Interior_02_Colision:
	DB 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	DB 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	DB 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0
	DB 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0
    DB 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
    DB 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
	DB 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0
	DB 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0
    DB 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0
    DB 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0
	DB 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1
	DB 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
	DB 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
	DB 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
	DB 0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
	DB 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
Interior_02_Warps:
    ;  MapPosX, MapPosY, To Map Pos X, To Map Pos Y, To Map ID,
    DB      40,     112,           96,           56,         0,
    DB     255,     255

Exterior_02_Tiles:
    DB $14,$17,$14,$17,$14,$17,$14,$17,$14,$17
    DB $14,$17,$14,$17,$14,$17,$14,$17,$14,$17
    DB $15,$18,$16,$19,$16,$19,$16,$19,$16,$19
    DB $16,$19,$16,$19,$16,$19,$16,$19,$15,$18
    DB $15,$18,$22,$27,$27,$27,$27,$27,$27,$27
    DB $27,$27,$27,$27,$27,$27,$27,$24,$15,$18
    DB $16,$19,$29,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$28,$16,$19
    DB $14,$17,$29,$01,$1A,$26,$26,$26,$26,$26
    DB $26,$26,$26,$26,$26,$1C,$01,$28,$14,$17
    DB $15,$18,$29,$01,$28,$02,$02,$02,$02,$02
    DB $02,$02,$02,$02,$02,$29,$01,$28,$15,$18
    DB $16,$19,$29,$01,$28,$02,$02,$02,$02,$02
    DB $02,$02,$02,$02,$02,$29,$01,$28,$16,$19
    DB $14,$17,$29,$01,$28,$02,$02,$02,$02,$02
    DB $02,$02,$02,$02,$02,$29,$01,$28,$14,$17
    DB $16,$19,$29,$01,$28,$02,$02,$02,$02,$02
    DB $02,$02,$02,$02,$02,$29,$01,$28,$16,$19
    DB $02,$02,$29,$01,$28,$02,$02,$02,$02,$02
    DB $02,$02,$02,$02,$02,$29,$01,$28,$14,$17
    DB $02,$02,$29,$01,$28,$02,$02,$02,$02,$02
    DB $02,$02,$02,$02,$02,$29,$01,$28,$15,$18
    DB $02,$02,$29,$01,$1B,$27,$27,$27,$27,$27
    DB $27,$27,$27,$27,$27,$1D,$01,$28,$16,$19
    DB $14,$17,$29,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$28,$14,$17
    DB $15,$18,$23,$26,$26,$26,$26,$26,$26,$26
    DB $26,$26,$26,$26,$26,$26,$26,$25,$15,$18
    DB $15,$18,$14,$17,$14,$17,$14,$17,$14,$17
    DB $14,$17,$14,$17,$14,$17,$14,$17,$15,$18
    DB $16,$19,$16,$19,$16,$19,$16,$19,$16,$19
    DB $16,$19,$16,$19,$16,$19,$16,$19,$16,$19
Exterior_02_Attributes:
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$03,$03
    DB $03,$03,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$03,$03
    DB $03,$03,$00,$00,$05,$05,$05,$05,$05,$05
    DB $05,$05,$05,$05,$05,$05,$00,$00,$03,$03
    DB $03,$03,$00,$00,$05,$05,$05,$05,$05,$05
    DB $05,$05,$05,$05,$05,$05,$00,$00,$03,$03
    DB $03,$03,$00,$00,$05,$05,$05,$05,$05,$05
    DB $05,$05,$05,$05,$05,$05,$00,$00,$03,$03
    DB $03,$03,$00,$00,$05,$05,$05,$05,$05,$05
    DB $05,$05,$05,$05,$05,$05,$00,$00,$03,$03
    DB $03,$03,$00,$00,$05,$05,$05,$05,$05,$05
    DB $05,$05,$05,$05,$05,$05,$00,$00,$03,$03
    DB $00,$00,$00,$00,$05,$05,$05,$05,$05,$05
    DB $05,$05,$05,$05,$05,$05,$00,$00,$03,$03
    DB $00,$00,$00,$00,$05,$05,$05,$05,$05,$05
    DB $05,$05,$05,$05,$05,$05,$00,$00,$03,$03
    DB $00,$00,$00,$00,$05,$05,$05,$05,$05,$05
    DB $05,$05,$05,$05,$05,$05,$00,$00,$03,$03
    DB $03,$03,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$03,$03
    DB $03,$03,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
    DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DEF Exterior_02_BytesLength EQU 320
DEF Exterior_02_TileSetId EQU 0
Exterior_02_Colision:
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$00,$00,$00
    DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$00,$00,$00
    DB $00,$00,$01,$01,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$01,$01,$00,$00,$00
    DB $00,$00,$01,$01,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$01,$01,$00,$00,$00
    DB $00,$00,$01,$01,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$01,$01,$00,$00,$00
    DB $00,$00,$01,$01,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$01,$01,$00,$00,$00
    DB $00,$00,$01,$01,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$01,$01,$00,$00,$00
    DB $02,$01,$01,$01,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$01,$01,$00,$00,$00
    DB $02,$01,$01,$01,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$01,$01,$00,$00,$00
    DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$00,$00,$00
    DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    DB $01,$01,$01,$01,$01,$01,$01,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
Exterior_02_Warps:
    ;  MapPosX, MapPosY, To Map Pos X, To Map Pos Y, To Map ID,
    DB       0,      72,          144,           72,         0,
    DB       0,      80,          144,           80,         0,
    DB     255,     255